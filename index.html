<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chatbot Moderno</title>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Space Grotesk', sans-serif;
      background: linear-gradient(135deg, #6C63FF, #FF6584);
      height: 100vh; display: flex; justify-content: center; align-items: center;
      transition: background 0.5s;
    }
    .dark-mode {
      background: linear-gradient(135deg, #1a1a1a, #333);
      color: white;
    }
    #fundo {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: url('https://picsum.photos/1920/1080?blur=3') no-repeat center center/cover;
      z-index: 0; filter: brightness(0.5);
    }
    #chatbot-button {
      position: fixed; bottom: 20px; right: 20px;
      background-color: #6C63FF; border-radius: 50%;
      padding: 15px; cursor: pointer; z-index: 1000;
      animation: pulse 2s infinite;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
      display: flex; align-items: center; justify-content: center;
    }
    #chatbot-button svg { width: 24px; height: 24px; fill: white; }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    #chatbot-box {
      position: fixed; bottom: 90px; right: 20px;
      width: 320px; height: 450px;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.3);
      overflow: hidden; display: flex; flex-direction: column;
      transform: scale(0); opacity: 0;
      transition: transform 0.3s ease, opacity 0.3s ease;
      z-index: 1000;
    }
    #chatbot-box.active { transform: scale(1); opacity: 1; }
    #chatbot-header {
      background: #6C63FF; color: white; padding: 15px;
      text-align: center; font-weight: 600;
    }
    #chatbot-chat {
      flex: 1; padding: 10px; overflow-y: auto; color: inherit;
    }
    #chatbot-input {
      display: flex; border-top: 1px solid rgba(255,255,255,0.3);
      backdrop-filter: blur(5px);
    }
    #userInput {
      flex: 1; padding: 10px; border: none; outline: none;
      background: transparent; color: white; font-size: 14px;
    }
    #sendButton {
      background: #FF6584; border: none; padding: 10px 15px;
      cursor: pointer; color: white; font-weight: bold;
      transition: background-color 0.3s;
    }
    #sendButton:hover { background: #e04a6a; }
    #typing-indicator {
      font-style: italic; font-size: 12px; margin-top: 5px; color: #999;
    }
    #darkModeToggle {
      position: fixed; top: 20px; right: 20px; z-index: 1001;
      padding: 10px; background: #FF6584; border: none; color: white; cursor: pointer;
      border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    }
  </style>
</head>
<body>

<div id="fundo"></div>

<button id="darkModeToggle" onclick="toggleDarkMode()">üåô Modo Escuro</button>

<div id="chatbot-button" onclick="toggleChat()">
  <svg viewBox="0 0 24 24"><path d="M2 21l1.5-4.5C2.57 15.36 2 13.74 2 12c0-5.52 4.48-10 10-10s10 4.48 10 10-4.48 10-10 10c-1.74 0-3.36-.57-4.5-1.5L2 21z"></path></svg>
</div>

<div id="chatbot-box">
  <div id="chatbot-header">ü§ñ Chatbot</div>
  <div id="chatbot-chat"></div>
  <div id="typing-indicator" style="display:none;">Digitando...</div>
  <div id="chatbot-input">
    <input id="userInput" placeholder="Digite algo...">
    <button id="sendButton" onclick="responder()">Enviar</button>
  </div>
</div>

<script>
  function toggleChat() {
    const chatbox = document.getElementById("chatbot-box");
    chatbox.classList.toggle("active");
    if(chatbox.classList.contains("active")) {
      document.getElementById("userInput").focus();
    }
  }

  function toggleDarkMode() {
    document.body.classList.toggle('dark-mode');
  }

  async function responder() {
    const inputField = document.getElementById("userInput");
    const input = inputField.value.trim().toLowerCase();
    const chat = document.getElementById("chatbot-chat");
    const typing = document.getElementById("typing-indicator");

    if (input === "") return;

    chat.innerHTML += `<p><strong>Voc√™:</strong> ${input}</p>`;
    inputField.value = "";
    inputField.focus();
    typing.style.display = 'block';

    setTimeout(async () => {
      typing.style.display = 'none';
      let resposta = "Desculpe, n√£o entendi. Pode repetir?";

      if (input.includes("oi") || input.includes("ol√°")) {
        resposta = "Ol√°! Como posso te ajudar com programa√ß√£o?";
      } else if (input.includes("tchau") || input.includes("adeus")) {
        resposta = "Tchau! Volte sempre que precisar.";
      } else if (input.includes("nome")) {
        resposta = "Eu sou um chatbot moderno, pronto para ajudar!";
      } else if (input.includes("ajuda")) {
        resposta = "Pergunte-me sobre linguagens de programa√ß√£o, algoritmos e muito mais!";
      } else if (input.includes("javascript")) {
        resposta = "JavaScript √© uma linguagem poderosa para web.";
      } else if (input.includes("api")) {
        resposta = await chamarAPI();
      } else if (input.includes("piada")) {
        resposta = "Por que o programador foi ao m√©dico? Porque estava com um loop infinito!";
      } else if (input.includes("c√≥digo html") || input.includes("exemplo de html") || input.includes("html")) {
        resposta = `Claro! Aqui est√° um exemplo de c√≥digo HTML b√°sico:<br>
        <pre>
        &lt;!DOCTYPE html&gt;
        &lt;html&gt;
        &lt;head&gt;
          &lt;title&gt;Minha P√°gina&lt;/title&gt;
        &lt;/head&gt;
        &lt;body&gt;
          &lt;h1&gt;Ol√°, mundo!&lt;/h1&gt;
          &lt;p&gt;Este √© um exemplo de c√≥digo HTML.&lt;/p&gt;
        &lt;/body&gt;
        &lt;/html&gt;
        </pre>`;
      }

      chat.innerHTML += `<p><strong>Bot:</strong> ${resposta}</p>`;
      chat.scrollTop = chat.scrollHeight;

    }, 700);
    
  }
  async function chamarAPI() {
    try {
      const response = await fetch('https://jsonplaceholder.typicode.com/posts/1');
      const data = await response.json();
      return `Chamada √† API bem-sucedida: ${data.title}`;
    } catch (error) {
      return 'Erro ao chamar a API.';
    }
  }
</script>

</body>
</html>
